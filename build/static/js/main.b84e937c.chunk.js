(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t,a){},103:function(e,t,a){},105:function(e,t,a){},107:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),c=a(13),s=a.n(c),o=(a(53),a(4)),u=a.n(o),l=a(6),i=a(5),m=a(7),p=a(0),f=a(8),b=r.a.createContext();a(57);var d=function(e){var t=e.logOut,a=Object(n.useContext)(b).isLoggedIn;return r.a.createElement("div",{className:"NavBar"},r.a.createElement(f.h,{expand:"md"},r.a.createElement(m.c,{exact:!0,to:"/",className:"navbar-brand"},"Jobly"),a?r.a.createElement(f.f,{className:"ml-auto NavBar-Nav",navbar:!0},r.a.createElement(f.g,null,r.a.createElement(m.c,{to:"/companies",className:"navbar-link"},"Companies")),r.a.createElement(f.g,null,r.a.createElement(m.c,{to:"/jobs",className:"navbar-link"},"Jobs")),r.a.createElement(f.g,null,r.a.createElement(m.c,{to:"/profile",className:"navbar-link"},"Profile")),r.a.createElement(f.g,null,r.a.createElement(m.c,{to:"/",onClick:t,className:"navbar-link"},"Log out"))):r.a.createElement(f.f,{className:"ml-auto NavBar-Nav",navbar:!0},r.a.createElement(f.g,null,r.a.createElement(m.c,{to:"/login",className:"navbar-link"},"Log in")),r.a.createElement(f.g,null,r.a.createElement(m.c,{to:"/signup",className:"navbar-link"},"Sign up")))))},v=a(9),g=a.n(v);function h(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(!0),o=Object(i.a)(s,2),m=o[0],f=o[1],b=Object(p.f)();return Object(n.useEffect)(function(){function t(){return(t=Object(l.a)(u.a.mark(function t(){var a;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e;case 3:a=t.sent,c(a),f(!1),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),g()("Oops, not found"),b.push("/"),console.log(t.t0);case 13:case"end":return t.stop()}},t,null,[[0,8]])}))).apply(this,arguments)}!function(){t.apply(this,arguments)}()},[]),[r,m,c]}a(64);var E=function(e){var t=e.name,a=e.description,n=e.handle;return r.a.createElement("div",{className:"CompanyCard"},r.a.createElement(m.b,{to:"/companies/".concat(n),className:"CompanyCard-Link"},r.a.createElement(f.a,{className:"CompanyCard-card"},r.a.createElement(f.b,null,r.a.createElement(f.e,{className:"CompanyCard-title"},t),r.a.createElement(f.d,null,a)))))},j=a(14),y=a.n(j),O=a(42),x=a(43),N=a(44),k=a.n(N),w=function(){function e(){Object(O.a)(this,e)}return Object(x.a)(e,null,[{key:"request",value:function(){var e=Object(l.a)(u.a.mark(function e(t){var a,n,r,c,s,o,l=arguments;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>1&&void 0!==l[1]?l[1]:{},n=l.length>2&&void 0!==l[2]?l[2]:"get",r="".concat("https://krataisjobly.herokuapp.com","/").concat(t),c={authorization:"Bearer ".concat(this.token)},s="get"===n?a:{},e.prev=5,e.next=8,k()({url:r,method:n,data:a,params:s,headers:c});case 8:return e.abrupt("return",e.sent.data);case 11:throw e.prev=11,e.t0=e.catch(5),console.error("API Error:",e.t0.response),o=e.t0.response.data.error.message,Array.isArray(o)?o:[o];case 16:case"end":return e.stop()}},e,this,[[5,11]])}));return function(t){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=Object(l.a)(u.a.mark(function e(t,a,n){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.token=n.token,e.next=3,this.request("".concat(t,"/"),a);case 3:return r=e.sent,e.abrupt("return",r[t]);case 5:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getSingleInfo",value:function(){var e=Object(l.a)(u.a.mark(function e(t,a,n){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.token=n.token,e.next=3,this.request("".concat(t,"/").concat(a));case 3:if(r=e.sent,"companies"!==t){e.next=8;break}return e.abrupt("return",r.company);case 8:if("jobs"!==t){e.next=12;break}return e.abrupt("return",r.job);case 12:if("users"!==t){e.next=14;break}return e.abrupt("return",r.user);case 14:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"deleteSingleInfo",value:function(){var e=Object(l.a)(u.a.mark(function e(t,a){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("".concat(t,"/").concat(a),{},"delete");case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"addInfo",value:function(){var e=Object(l.a)(u.a.mark(function e(t,a){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("".concat(t,"/"),a,"post");case 2:if(n=e.sent,"companies"!==t){e.next=7;break}return e.abrupt("return",n.company);case 7:if("jobs"!==t){e.next=11;break}return e.abrupt("return",n.job);case 11:if("users"!==t){e.next=13;break}return e.abrupt("return",n.user);case 13:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"updateInfo",value:function(){var e=Object(l.a)(u.a.mark(function e(t,a,n,r){var c;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.token=r.token,e.next=3,this.request("".concat(t,"/").concat(a),n,"patch");case 3:if(c=e.sent,"companies"!==t){e.next=8;break}return e.abrupt("return",c.company);case 8:if("jobs"!==t){e.next=12;break}return e.abrupt("return",c.job);case 12:if("users"!==t){e.next=14;break}return e.abrupt("return",c.user);case 14:case"end":return e.stop()}},e,this)}));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"appliedJob",value:function(){var e=Object(l.a)(u.a.mark(function e(t,a,n){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.token=n.token,e.next=3,this.request("users/".concat(t,"/jobs/").concat(a),{},"post");case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"authenticate",value:function(){var e=Object(l.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("auth/token",t,"post");case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"signUp",value:function(){var e=Object(l.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("auth/register",t,"post");case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}();function S(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return C(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return C(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,s=!0,o=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return s=e.done,e},e:function(e){o=!0,c=e},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw c}}}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function I(e,t){var a=document.querySelector(e),n=document.createElement("div");n.className="err-container",t.forEach(function(e){var t=document.createElement("small");t.className="APIErr",t.innerText=e,n.appendChild(t)}),a.appendChild(n)}function L(e){e&&(!function(e){for(;e.firstElementChild;)e.firstElementChild.remove()}(e),e.remove())}function A(e){document.querySelectorAll(e).forEach(function(e){e.value=""})}function J(e,t,a,n,c){return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,c,":"),r.a.createElement("input",{name:e,id:e,type:t,value:a,onChange:n}))}a(83);var P=function(e){for(var t=e.itemsPerPage,a=e.totalItems,n=e.paginate,c=[],s=1;s<=Math.ceil(a/t);s++)c.push(s);return r.a.createElement("nav",{className:"pagination-nav"},r.a.createElement("ul",{className:"pagination"},c.map(function(e){return r.a.createElement("li",{key:e,className:"page-item"},r.a.createElement("a",{onClick:function(t){n(e),function(){var e=document.getElementsByClassName("page-link");if(e){var t,a=S(e);try{for(a.s();!(t=a.n()).done;)t.value.classList.remove("active")}catch(n){a.e(n)}finally{a.f()}}}(),t.target.classList.add("active")},href:"#".concat(e),className:"page-link"},e))})))},q=(a(85),"Oops, somthing's wrong");var U=function(){var e,t=Object(n.useState)(1),a=Object(i.a)(t,2),c=a[0],s=a[1],o=Object(n.useState)(10),p=Object(i.a)(o,1)[0],f=Object(n.useContext)(b),d=f.isLoggedIn,v=f.token;if(!1===d&&!v)return r.a.createElement("div",null,r.a.createElement("p",null,"Please log in to access this page"),r.a.createElement(m.b,{to:"/login"},"Log in"));var j=h(w.getAll("companies",{},v)),O=Object(i.a)(j,3),x=O[0],N=O[1],k=O[2];if(N)return r.a.createElement("div",{className:"loading"},r.a.createElement(y.a,null));var S=function(){var t=Object(l.a)(u.a.mark(function t(a){var n;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,w.getAll("companies",{name:e},v);case 4:n=t.sent,k(n),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),g()(q);case 12:case"end":return t.stop()}},t,null,[[1,8]])}));return function(e){return t.apply(this,arguments)}}(),C=c*p,I=C-p,L=x.slice(I,C).map(function(e){var t=e.name,a=e.description,n=e.handle;return r.a.createElement(E,{name:t,description:a,key:n,handle:n})});return r.a.createElement("div",{className:"CompaniesList"},r.a.createElement("div",null,r.a.createElement("form",{onSubmit:S,className:"CompaniesList-seachForm"},r.a.createElement("input",{onChange:function(t){var a=t.target.value;e=a},type:"text",name:"companies",id:"companies",placeholder:"Enter search term...",className:"CompaniesList-searchBox"}),r.a.createElement("button",{className:"CompaniesList-btn"},"Search"))),L,r.a.createElement("div",{className:"CompaniesList-pages"},r.a.createElement("button",{onClick:function(){s(function(e){return e-1})},className:"prev ".concat(1===c?"disabled":"")},"prev"),r.a.createElement(P,{itemsPerPage:p,totalItems:x.length,paginate:function(e){return s(e)}}),r.a.createElement("button",{onClick:function(){s(function(e){return e+1})},className:"next ".concat(c===x.length/p?"disabled":"")},"next")))},F=a(19);a(87);var B=function(e){var t=e.title,a=e.companyName,c=e.salary,s=e.equity,o=e.buttonValue,u=e.addJob,l=e.id,m=Object(n.useState)(o),p=Object(i.a)(m,2),b=p[0],d=p[1],v=Object(n.useState)(!1),g=Object(i.a)(v,2),h=g[0],E=g[1];return r.a.createElement("div",{className:"JobCard"},r.a.createElement(f.a,{className:"JobCard-card"},r.a.createElement(f.b,null,r.a.createElement(f.e,{className:"JobCard-title"},t),r.a.createElement(f.c,null,a),r.a.createElement(f.d,null,"Salary: ",c),r.a.createElement(f.d,null,"Equity: ",s)),"Applied"===o?r.a.createElement("button",{disabled:!0,className:"JobCard-btn"},b):r.a.createElement("button",{onClick:function(){var e;u(l),d(e="Applied"),"Applied"===e&&E(!0)},disabled:h,className:"JobCard-btn applied"},b)))},D=a(16),V=(a(89),"Oops, somthing's wrong");var M=function(){var e=Object(n.useState)(),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(n.useContext)(b),o=s.isLoggedIn,f=s.token,d=Object(D.a)(f.token).username,v=Object(p.g)().handle,E=h(w.getSingleInfo("companies",v,f)),j=Object(i.a)(E,2),O=j[0],x=j[1],N=O.jobs,k=O.name,S=O.description;if(Object(n.useEffect)(function(){try{!function(){var e=Object(l.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.getSingleInfo("users",d,f);case 2:t=e.sent,c(t.applications);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()}catch(e){console.log(e),g()(V)}},[f]),!1===o&&!f)return r.a.createElement("div",null,r.a.createElement("p",null,"Please log in to access this page"),r.a.createElement(m.b,{to:"/login"},"Log in"));if(x||!a)return r.a.createElement("div",{className:"loading"},r.a.createElement(y.a,null));var C=function(){var e=Object(l.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t,c(function(e){return[].concat(Object(F.a)(e),[a])}),e.next=5,w.appliedJob(d,t,f);case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),g()(V);case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),I=N.map(function(e){var t=e.title,n=e.id,c=e.salary,s=e.equity;return r.a.createElement(B,{title:t,salary:c,equity:s,id:n,key:n,buttonValue:a.includes(n)?"Applied":"Apply",addJob:C})});return r.a.createElement("div",{className:"CompaniesDetail"},r.a.createElement("div",{className:"CompaniesDetail-title"},k),r.a.createElement("div",null,S),r.a.createElement("div",null,I))},T=(a(91),"Oops, somthing's wrong");var W=function(){var e,t=Object(n.useState)(1),a=Object(i.a)(t,2),c=a[0],s=a[1],o=Object(n.useState)(20),p=Object(i.a)(o,1)[0],f=Object(n.useState)(),d=Object(i.a)(f,2),v=d[0],E=d[1],j=Object(n.useContext)(b),O=j.isLoggedIn,x=j.token,N=Object(D.a)(x.token).username,k=h(w.getAll("jobs",{},x)),S=Object(i.a)(k,3),C=S[0],I=S[1],L=S[2];if(Object(n.useEffect)(function(){try{!function(){var e=Object(l.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.getSingleInfo("users",N,x);case 2:t=e.sent,E(t.applications);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()}catch(e){console.log(e),g()(T)}},[x]),!1===O&&!x)return r.a.createElement("div",null,r.a.createElement("p",null,"Please log in to access this page"),r.a.createElement(m.b,{to:"/login"},"Log in"));if(I||!v)return r.a.createElement("div",{className:"loading"},r.a.createElement(y.a,null));var A=function(){var t=Object(l.a)(u.a.mark(function t(a){var n;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,w.getAll("jobs",{title:e},x);case 4:n=t.sent,L(n),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),g()(T);case 12:case"end":return t.stop()}},t,null,[[1,8]])}));return function(e){return t.apply(this,arguments)}}(),J=function(){var e=Object(l.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t,E(function(e){return[].concat(Object(F.a)(e),[a])}),e.next=5,w.appliedJob(N,t,x);case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),g()(T);case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),q=c*p,U=q-p,V=C.slice(U,q).map(function(e){var t=e.title,a=e.salary,n=e.equity,c=e.id,s=e.companyName;return r.a.createElement(B,{title:t,companyName:s,salary:a,equity:n,id:c,key:c,buttonValue:v.includes(c)?"Applied":"Apply",addJob:J})});return r.a.createElement("div",{className:"JobList"},r.a.createElement("div",null,r.a.createElement("form",{onSubmit:A},r.a.createElement("input",{onChange:function(t){var a=t.target.value;e=a},type:"text",name:"jobs",id:"jobs",placeholder:"Enter search term...",className:"JobList-searchbox-input"}),r.a.createElement("button",{className:"JobList-searchbox-btn"},"Search"))),V,r.a.createElement("div",{className:"JobList-pages"},r.a.createElement("button",{onClick:function(){s(function(e){return e-1})},className:"prev ".concat(1===c?"disabled":"")},"prev"),r.a.createElement(P,{itemsPerPage:p,totalItems:C.length,paginate:function(e){return s(e)}}),r.a.createElement("button",{onClick:function(){s(function(e){return e+1})},className:"next ".concat(c===C.length/p?"disabled":"")},"next")))},$=a(15),z=a(17),H=(a(93),{username:"",password:""}),R="All fields are required";var G=function(e){var t=e.logIn,a=Object(p.f)(),c=Object(n.useState)(H),s=Object(i.a)(c,2),o=s[0],m=s[1],f=Object(n.useState)(!1),b=Object(i.a)(f,2),d=b[0],v=b[1],h=Object(n.useState)(!0),E=Object(i.a)(h,2),j=E[0],y=E[1],O=function(e){var t=e.target,a=t.name,n=t.value;m(function(e){return Object(z.a)({},e,Object($.a)({},a,n))}),v(!0),""===e.target.value?y(!0):y(!1)},x=function(){var e=Object(l.a)(u.a.mark(function e(n){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),L(document.querySelector(".err-container")),j){e.next=10;break}return m(H),e.next=6,t(o);case 6:(r=e.sent)?(I(".LogIn-Form-Container",r),A("#username, #password")):a.push("/companies"),e.next=12;break;case 10:g()("Oop, somthings wrong"),console.log("something's wrong");case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"LogIn"},r.a.createElement("div",{className:"LogIn-header"},"Log in"),r.a.createElement("form",{onSubmit:x,className:"LogIn-form LogIn-Form-Container"},J("username","text",o.username,O,"Username"),J("password","password",o.password,O,"Password"),j&&d&&r.a.createElement("small",null,R),r.a.createElement("button",{className:"LogIn-button"},"Log in")))},K=(a(95),{username:"",password:"",firstName:"",lastName:"",email:""}),Q="All fields are required";var X=function(e){var t=e.signup,a=Object(n.useState)(K),c=Object(i.a)(a,2),s=c[0],o=c[1],f=Object(n.useState)(!1),b=Object(i.a)(f,2),d=b[0],v=b[1],h=Object(n.useState)(!0),E=Object(i.a)(h,2),j=E[0],y=E[1],O=Object(p.f)(),x=function(e){var t=e.target,a=t.name,n=t.value;o(function(e){return Object(z.a)({},e,Object($.a)({},a,n))}),v(!0),""===e.target.value?y(!0):y(!1)},N=function(){var e=Object(l.a)(u.a.mark(function e(a){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),o(K),L(document.querySelector(".err-container")),j){e.next=10;break}return e.next=6,t(s);case 6:(n=e.sent)?(I(".SignUp-form",n),A("#username, #password, #firstName, #lastName, #email")):O.push("/companies"),e.next=12;break;case 10:g()("Oop, somthings wrong"),console.log("something's wrong");case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"SignUp"},r.a.createElement("div",{className:"SignUp-header"},"Sign up"),r.a.createElement("form",{onSubmit:N,className:"SignUp-form"},J("username","text",s.username,x,"Username"),J("password","password",s.password,x,"Password"),J("firstName","text",s.firstName,x,"First Name"),J("lastName","text",s.lastName,x,"Last Name"),J("email","email",s.email,x,"Email"),j&&d&&r.a.createElement("small",null,Q),r.a.createElement("button",{className:"SignUp-button"},"Sign up")),r.a.createElement("div",{className:"SignUp-already"},"Already signed up? ",r.a.createElement(m.b,{to:"/login"},"Log in")))};a(97);var Y=function(){var e=Object(n.useContext)(b).isLoggedIn;return r.a.createElement("div",{className:"Jobly"},e?r.a.createElement(U,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"Jobly-header"},"Jobly"),r.a.createElement("div",{className:"Jobly-description"},"All the jobs in one, convenient place."),r.a.createElement("div",{className:"Jobly-btn-container"},r.a.createElement(m.b,{to:"/login"},r.a.createElement("button",{className:"Jobly-btn"},"Log in")),r.a.createElement(m.b,{to:"/signup"},r.a.createElement("button",{className:"Jobly-btn"},"Sign up")))))},Z=(a(99),a(45)),_=a.n(Z);var ee=function(){return r.a.createElement("div",{className:"NotFound"},r.a.createElement("div",{className:"NoutFound-text"},"Sorry, we did not find the page you were looking for. Please try again!"),r.a.createElement("img",{src:_.a,alt:"404-Page-Not-Found",className:"NotFound-img"}),r.a.createElement(m.b,{to:"/",className:"NotFound-backHome"},"Back home"))},te=(a(101),"All fields are required"),ae="Oops, something's wrong";var ne=function(){var e=Object(n.useContext)(b),t=e.isLoggedIn,a=e.token,c=e.currentUser,s=Object(n.useState)(c),o=Object(i.a)(s,2),p=o[0],f=o[1],d=Object(n.useState)(!1),v=Object(i.a)(d,2),h=v[0],E=v[1],j=Object(n.useState)(!0),O=Object(i.a)(j,2),x=O[0],N=O[1];if(!1===t&&!a)return r.a.createElement("div",null,r.a.createElement("p",null,"Please log in to access this page"),r.a.createElement(m.b,{to:"/login"},"Log in"));if(Object(n.useEffect)(function(){function e(){return(e=Object(l.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{f(c)}catch(t){console.log(t),g()(ae)}case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[c]),!p)return r.a.createElement("div",{className:"loading"},r.a.createElement(y.a,null));var k=function(e){var t=e.target,a=t.name,n=t.value;f(function(e){return Object(z.a)({},e,Object($.a)({},a,n))}),E(!0),""===e.target.value?N(!0):N(!1)},S=function(){var e=Object(l.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),L(document.querySelector(".err-container")),x){e.next=17;break}return e.prev=3,e.next=6,w.authenticate({username:p.username,password:p.password});case 6:return e.next=8,w.updateInfo("users",p.username,{firstName:p.firstName,lastName:p.lastName,email:p.email},a);case 8:console.log("Profile has been updated"),g()("Profile has been updated"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),I(".Update-Form-Container",e.t0);case 15:e.next=19;break;case 17:g()(ae),console.log("something's wrong");case 19:case"end":return e.stop()}},e,null,[[3,12]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"Profile"},r.a.createElement("div",{className:"Profile-header"},c.username),r.a.createElement("div",{className:"Update-Form-Container"},r.a.createElement("form",{onSubmit:S,className:"Profile-form"},J("firstName","text",p.firstName,k,"First Name"),J("lastName","text",p.lastName,k,"Last Name"),J("email","email",p.email,k,"Email"),r.a.createElement("label",null,"Confirm your Password to make changes:"),r.a.createElement("input",{type:"password",name:"password",id:"password",onChange:k}),x&&h&&r.a.createElement("small",{color:"warning"},te),r.a.createElement("button",{className:"Profile-btn"},"Save Changes"))))};a(103);var re=function(){var e,t=Object(n.useState)(!1),a=Object(i.a)(t,2),c=a[0],s=a[1],o=Object(n.useState)(),f=Object(i.a)(o,2),v=f[0],h=f[1],E=function(e,t){var a=Object(n.useState)(function(){try{return JSON.parse(window.localStorage.getItem(e)||t)}catch(a){throw new Error(a)}}),r=Object(i.a)(a,2),c=r[0],s=r[1];return Object(n.useEffect)(function(){window.localStorage.setItem(e,JSON.stringify(c))},[e,c]),[c,s]}("token",null),j=Object(i.a)(E,2),y=j[0],O=j[1];if(y){var x=Object(D.a)(y.token);e=x.username}Object(n.useEffect)(function(){function t(){return(t=Object(l.a)(u.a.mark(function t(){var a;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.getSingleInfo("users",e,y);case 3:(a=t.sent)&&(h(a),s(!0)),t.next=11;break;case 7:throw t.prev=7,t.t0=t.catch(0),g()("Oops, something's wrong"),new Error(t.t0);case 11:case"end":return t.stop()}},t,null,[[0,7]])}))).apply(this,arguments)}y?function(){t.apply(this,arguments)}():console.log("No logged in user")},[y]);var N=function(){var e=Object(l.a)(u.a.mark(function e(t){var a,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.signUp(t);case 3:return a=e.sent,e.next=6,w.getSingleInfo("users",t.username,a);case 6:n=e.sent,O(a),h(n),s(!0),e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 16:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(l.a)(u.a.mark(function e(t){var a,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.authenticate(t);case 3:return a=e.sent,e.next=6,w.getSingleInfo("users",t.username,a);case 6:n=e.sent,O(a),h(n),s(!0),e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 16:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(m.a,null,r.a.createElement(b.Provider,{value:{currentUser:v,token:y,isLoggedIn:c}},r.a.createElement(d,{logOut:function(){O(null),h(),s(!1)}}),r.a.createElement("main",{className:"Routes-main"},r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/login"},r.a.createElement(G,{logIn:k})),r.a.createElement(p.a,{exact:!0,path:"/signup"},r.a.createElement(X,{signup:N})),r.a.createElement(p.a,{exact:!0,path:"/"},r.a.createElement(Y,null)),r.a.createElement(p.a,{exact:!0,path:"/companies"},r.a.createElement(U,null)),r.a.createElement(p.a,{exact:!0,path:"/companies/:handle"},r.a.createElement(M,null)),r.a.createElement(p.a,{exact:!0,path:"/jobs"},r.a.createElement(W,null)),r.a.createElement(p.a,{exact:!0,path:"/profile"},r.a.createElement(ne,null)),r.a.createElement(p.a,null,r.a.createElement(ee,null))))))};a(105);var ce=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(re,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(ce,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},45:function(e,t,a){e.exports=a.p+"static/media/error-404.11ed1efd.png"},48:function(e,t,a){e.exports=a(107)},53:function(e,t,a){},57:function(e,t,a){},64:function(e,t,a){},83:function(e,t,a){},85:function(e,t,a){},87:function(e,t,a){},89:function(e,t,a){},91:function(e,t,a){},93:function(e,t,a){},95:function(e,t,a){},97:function(e,t,a){},99:function(e,t,a){}},[[48,2,1]]]);
//# sourceMappingURL=main.b84e937c.chunk.js.map